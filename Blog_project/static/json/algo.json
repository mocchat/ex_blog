[
	{
		"id": 0,
		"category": "Algo",
		"title": "1520 \ub0b4\ub9bc\ub9c9\uae38",
		"subtitle": "dp, graph(dfs)",
		"author": "mocchat",
		"date": "2023\ub1449\uc6d43\uc77c",
		"body": "<pre>\r\n\r\n<img alt=\"\" src=\"..\\..\\static\\assets\\img\\1520pro.png\" style=\"height:828px; margin-left:200px; margin-right:200px; width:900px\" />\r\n\r\n\r\n\r\n\r\n\r\n\ucf54\ub4dc\ub294 \ub2e4\uc74c\uacfc \uac19\ub2e4.\r\n\r\nimport sys\r\n\r\nsys.setrecursionlimit(10**6)\r\nn, m = map(int, sys.stdin.readline().split())\r\nif n == 1 and m == 1:\r\n    print(1)\r\nelse:\r\n    li = []\r\n    visit = []     # \ubc29\ubb38\ud588\ub294\uc9c0 \uae30\ub85d\r\n    v_count = []   # \uc774\ubbf8 \ubaa9\uc801\uc9c0\uc5d0 \ub3c4\ub2ec\ud588\ub358 \uae38 \ub610\ub294 \uac00\ub85c\ub9c9\ud78c \uae38 \ud655\uc778\r\n    route = []     # \uc9c0\ub098\uac04 \uae38 \uc800\uc7a5(visit\uc774\ub791 \ub0b4\uc6a9\uc740 \uac19\uc9c0\ub9cc v_count\ub97c \uc62c\ub9ac\ub294 \uacfc\uc815\uc5d0\uc11c visit\uc744 \ubaa8\ub450 \r\n                   # \ud655\uc778\ud558\ub294 \uac83\ubcf4\ub2e4\ub294 \uc5ec\uae30\uc5d0 \uc800\uc7a5\ud558\uace0 \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \ub354 \ube60\ub97c \uac83\uc774\ub77c\uace0 \uc0dd\uac01\ud568)\r\n    for _ in range(n):\r\n        li.append(list(map(int, sys.stdin.readline().split())))\r\n        visit.append([0]*m)\r\n        v_count.append([0]*m)\r\n    count = 0\r\n    dx = [1, -1, 0, 0]\r\n    dy = [0, 0, 1, -1]\r\n\r\n\r\n    def check(x, y):\r\n        global count\r\n        s = []\r\n        for i in range(4):\r\n            zx = x + dx[i]\r\n            zy = y + dy[i]\r\n            if 0 &lt;= zx &lt; n and 0 &lt;= zy &lt; m:\r\n                if zx == n - 1 and zy == m - 1 and li[zx][zy] &lt; li[x][y]:    # \ubaa9\uc801\uc9c0\uc5d0 \ub3c4\ub2ec\r\n                    for a in route:\r\n                        b, c = a \r\n                        v_count[b][c] += 1\r\n                    count += 1\r\n                    return\r\n                if li[x][y] &gt; li[zx][zy] and visit[zx][zy] == 0 and v_count[zx][zy] &gt; -1:\r\n                    if v_count[zx][zy] != 0:     # \ubaa9\uc801\uc9c0\uc5d0 \ub3c4\ub2ec\ud588\ub358 \uae38\r\n                        for a in route:\r\n                            b, c = a\r\n                            v_count[b][c] += v_count[zx][zy]\r\n                        count += v_count[zx][zy]\r\n                    else:\r\n                        s.append((zx, zy))\r\n        if v_count[x][y] == 0 and len(s) == 0:   # \uc0ac\ubc29\uc774 \uac00\ub85c\ub9c9\ud78c \uae38\r\n            v_count[x][y] = -1\r\n        while s:\r\n            qx, qy = s.pop()\r\n            route.append((qx, qy))\r\n            visit[qx][qy] = 1\r\n            check(qx, qy)\r\n            route.pop()\r\n            visit[qx][qy] = 0\r\n            if v_count[x][y] == 0 and len(s) == 0:\r\n                v_count[x][y] = -1\r\n\r\n\r\n    check(0, 0)\r\n    print(count)\r\n</pre>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>\uc774\ubc88 \ubb38\uc81c\ub294 dp\uc640 dfs\ub97c \ub3d9\uc2dc\uc5d0 \uc774\uc6a9\ud558\ub294 \ubb38\uc81c\uc774\ub2e4.</p>\r\n\r\n<p>\ucc98\uc74c\uc5d0\ub294 dfs\ub9cc \uc774\uc6a9\ud558\uc5ec \ubb38\uc81c\ub97c \ud480\uc5b4 \uc608\uc81c\ub97c \ud1b5\uacfc\ud588\uc9c0\ub9cc \uc2dc\uac04\ucd08\uacfc\uac00 \ub098\uc624\uace0 \ub9d0\uc558\ub2e4.</p>\r\n\r\n<p>\ub2e4\uc74c\uc5d4 v_count\ub97c \uc774\uc6a9\ud558\uc5ec \ubaa9\uc801\uc9c0\uae4c\uc9c0 \ub3c4\ub2ec\ud588\ub358 \uae38\uc744 \ud45c\uc2dc\ub97c \uc800\uc7a5\ud558\uba74\uc11c \ud480\uc5c8\uc9c0\ub9cc \ub9c8\ucc2c\uac00\uc9c0\ub85c \uc2dc\uac04\ucd08\uacfc.</p>\r\n\r\n<p>\uacb0\uad6d \ub9c9\ub2e4\ub978 \uae38\uae4c\uc9c0 \uc800\uc7a5\ud558\uba70 \ud478\ub2c8 \uc774\uc81c\uc11c\uc57c \uc2dc\uac04\ub0b4\uc5d0 \ud1b5\uacfc\ub97c \ud560 \uc218 \uc788\uc5c8\ub2e4.</p>\r\n\r\n<p>dfs \uc54c\uace0\ub9ac\uc998 \uc790\uccb4\ub294 \uc26c\uc5c8\uc73c\ub098 \uc5ec\ub7ec dp\ub97c \ud65c\uc6a9\ud558\ub294 \ubc29\uc548\uc744 \ub5a0\uc62c\ub9ac\ub294\ub370 \uc2dc\uac04\uc774 \uc624\ub798 \uac78\ub9b0 \ubb38\uc81c\uc600\ub2e4.</p>\r\n",
		"comment": []
	}
]